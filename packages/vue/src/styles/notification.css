/**
 * Notification 样式
 * @description 现代化 Notification 通知卡片 - 简洁大方、美观大气的桌面通知风格
 */

/* 容器 */
.l-notification-container {
  pointer-events: none;
}

/* 列表 */
.l-notification-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
  position: relative;
  min-height: 1px;
}

/* 包装器 */
.l-notification-wrapper {
  display: block;
  will-change: transform, opacity;
}

/* ==================== Notification 主体 ==================== */
.l-notification {
  display: flex;
  flex-direction: column;
  width: 380px;
  /* 白色背景 */
  background-color: #ffffff;
  background-color: var(--color-bg-popover, #ffffff);
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  pointer-events: auto;
  overflow: hidden;
  box-sizing: border-box;
}

/* ==================== 类型样式 - 左侧彩色边条 ==================== */
.l-notification--success {
  border-left: 3px solid #22c55e;
}

.l-notification--error {
  border-left: 3px solid #ef4444;
}

.l-notification--warning {
  border-left: 3px solid #f59e0b;
}

.l-notification--info {
  border-left: 3px solid #3b82f6;
}

.l-notification--loading {
  border-left: 3px solid #3b82f6;
}

/* ==================== 头部区域 ==================== */
.l-notification__header {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 16px 16px 8px 16px;
}

/* 图标 */
.l-notification__icon {
  flex-shrink: 0;
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 1px;
}

.l-notification__icon svg {
  width: 20px;
  height: 20px;
}

.l-notification--success .l-notification__icon {
  color: var(--ldn-color-success);
}

.l-notification--error .l-notification__icon {
  color: var(--ldn-color-error);
}

.l-notification--warning .l-notification__icon {
  color: var(--ldn-color-warning);
}

.l-notification--info .l-notification__icon,
.l-notification--loading .l-notification__icon {
  color: var(--ldn-color-info);
}

/* Loading 旋转 */
.l-notification__icon--spin {
  animation: l-notification-spin 0.8s linear infinite;
}

@keyframes l-notification-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* 标题 */
.l-notification__title {
  flex: 1;
  font-weight: 600;
  font-size: 14px;
  color: #1f2937;
  color: var(--color-text-primary, #1f2937);
  line-height: 1.5;
}

/* 关闭按钮 */
.l-notification__close {
  flex-shrink: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  margin: -2px -4px 0 0;
  background: transparent;
  border: none;
  border-radius: 6px;
  color: #9ca3af;
  cursor: pointer;
  transition: all 150ms ease;
}

.l-notification__close:hover {
  background: rgba(0, 0, 0, 0.04);
  color: #6b7280;
}

.l-notification__close:active {
  transform: scale(0.92);
}

/* ==================== 内容区域 ==================== */
.l-notification__content {
  padding: 0 16px 16px;
  padding-left: calc(16px + 22px + 12px);
  font-size: 14px;
  color: #6b7280;
  color: var(--color-text-secondary, #6b7280);
  line-height: 1.6;
}

/* ==================== 操作按钮区域 ==================== */
.l-notification__actions {
  display: flex;
  gap: 8px;
  padding: 0 16px 16px;
  padding-left: calc(16px + 22px + 12px);
}

.l-notification__action {
  height: 28px;
  padding: 0 12px;
  font-size: 13px;
  font-weight: 500;
  border-radius: 6px;
  cursor: pointer;
  transition: all var(--ldn-duration-fast) var(--ldn-easing-default);
}

.l-notification__action--primary {
  background: var(--ldn-color-primary);
  color: var(--ldn-text-inverse);
  border: none;
}

.l-notification__action--primary:hover {
  filter: brightness(1.05);
}

.l-notification__action--primary:active {
  transform: scale(0.98);
}

.l-notification__action--secondary {
  background: transparent;
  color: var(--ldn-text);
  border: 1px solid var(--ldn-border);
}

.l-notification__action--secondary:hover {
  background: var(--ldn-bg-hover);
}

.l-notification__action--secondary:active {
  transform: scale(0.98);
}

.l-notification__action--danger {
  background: var(--ldn-color-error);
  color: var(--ldn-text-inverse);
  border: none;
}

.l-notification__action--danger:hover {
  filter: brightness(1.05);
}

.l-notification__action--danger:active {
  transform: scale(0.98);
}

.l-notification__action:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ==================== 进度条 ==================== */
.l-notification__progress {
  height: 3px;
  background: var(--ldn-bg-hover);
}

.l-notification__progress-bar {
  height: 100%;
  background: var(--ldn-color-primary);
  transition: width var(--ldn-duration-fast) linear;
}

/* ==================== 动画 ==================== */

/* 从右侧滑入 - 优雅的滑动效果 */
.l-notification-right-enter-active {
  transition:
    opacity var(--ldn-duration-moderate) var(--ldn-easing-out),
    transform var(--ldn-duration-moderate) var(--ldn-easing-elegant);
}

.l-notification-right-leave-active {
  transition:
    opacity var(--ldn-duration-fast) var(--ldn-easing-in),
    transform var(--ldn-duration-fast) var(--ldn-easing-in),
    height var(--ldn-duration-fast) var(--ldn-easing-in),
    margin var(--ldn-duration-fast) var(--ldn-easing-in),
    padding var(--ldn-duration-fast) var(--ldn-easing-in);
  overflow: hidden;
}

.l-notification-right-enter-from {
  opacity: 0;
  transform: translateX(50%);
}

.l-notification-right-leave-to {
  opacity: 0;
  transform: translateX(50%);
}

.l-notification-right-move {
  transition: transform var(--ldn-duration-moderate) var(--ldn-easing-elegant);
}

/* 从左侧滑入 */
.l-notification-left-enter-active {
  transition:
    opacity var(--ldn-duration-moderate) var(--ldn-easing-out),
    transform var(--ldn-duration-moderate) var(--ldn-easing-elegant);
}

.l-notification-left-leave-active {
  transition:
    opacity var(--ldn-duration-fast) var(--ldn-easing-in),
    transform var(--ldn-duration-fast) var(--ldn-easing-in),
    height var(--ldn-duration-fast) var(--ldn-easing-in),
    margin var(--ldn-duration-fast) var(--ldn-easing-in),
    padding var(--ldn-duration-fast) var(--ldn-easing-in);
  overflow: hidden;
}

.l-notification-left-enter-from {
  opacity: 0;
  transform: translateX(-50%);
}

.l-notification-left-leave-to {
  opacity: 0;
  transform: translateX(-50%);
}

.l-notification-left-move {
  transition: transform var(--ldn-duration-moderate) var(--ldn-easing-elegant);
}

/* 默认动画（兼容） */
.l-notification-enter-active {
  transition:
    opacity var(--ldn-duration-moderate) var(--ldn-easing-out),
    transform var(--ldn-duration-moderate) var(--ldn-easing-elegant);
}

.l-notification-leave-active {
  transition:
    opacity var(--ldn-duration-fast) var(--ldn-easing-in),
    transform var(--ldn-duration-fast) var(--ldn-easing-in),
    height var(--ldn-duration-fast) var(--ldn-easing-in),
    margin var(--ldn-duration-fast) var(--ldn-easing-in),
    padding var(--ldn-duration-fast) var(--ldn-easing-in);
  overflow: hidden;
}

.l-notification-enter-from {
  opacity: 0;
  transform: translateX(50%);
}

.l-notification-leave-to {
  opacity: 0;
  transform: translateX(50%);
}

.l-notification-move {
  transition: transform var(--ldn-duration-moderate) var(--ldn-easing-elegant);
}

/* ==================== 响应式 ==================== */
@media (max-width: 640px) {
  .l-notification {
    width: calc(100vw - 32px);
    max-width: var(--ldn-notification-width);
    border-radius: var(--ldn-radius-md);
  }

  .l-notification__header {
    padding: var(--ldn-space-3);
    padding-bottom: var(--ldn-space-2);
    gap: var(--ldn-space-2);
  }

  .l-notification__icon svg {
    width: var(--ldn-icon-sm);
    height: var(--ldn-icon-sm);
  }

  .l-notification__title {
    font-size: var(--ldn-font-size-sm);
  }

  .l-notification__content {
    padding: 0 var(--ldn-space-3) var(--ldn-space-3);
    padding-left: calc(var(--ldn-space-3) + var(--ldn-icon-lg) + var(--ldn-space-2));
    font-size: var(--ldn-font-size-sm);
  }

  .l-notification__actions {
    padding: 0 var(--ldn-space-3) var(--ldn-space-3);
    padding-left: calc(var(--ldn-space-3) + var(--ldn-icon-lg) + var(--ldn-space-2));
  }
}
